---
const email = 'sharqawy@diran.app';
const repo = 'https://github.com/sharqawycs/sharqawycs?tab=MIT-1-ov-file';
const currentYear = new Date().getFullYear();
---

<footer class="flex items-center justify-between border-t border-gray-200 px-4 py-2 text-center text-sm">
  <a href={`mailto:${email}`} class="hover-highlight" data-color="#2196F3" data-animation="slide-right">
    {email}
  </a>

  <div class="group relative inline">
    <!-- Default text -->
    <p class="opacity-100 transition-opacity duration-300 ease-in-out group-hover:opacity-0">
      &copy; {currentYear} sharqawycs
    </p>

    <!-- Hover text -->
    <div class="absolute top-0 right-0 opacity-0 transition-opacity duration-300 ease-in-out group-hover:opacity-100">
      <a href={repo} target="_blank" class="hover-highlight" data-color="#2196F3" data-animation="slide-right"> MIT License </a>
    </div>
  </div>
</footer>

<style>
  .hover-highlight {
    position: relative;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .hover-highlight:hover {
    transform: translateX(2px);
  }
</style>

<script>
  // Footer highlight effects
  document.querySelectorAll('.hover-highlight').forEach(element => {
    const color = element.getAttribute('data-color');

    if (color) {
      const rgbColor = hexToRgb(color);
      if (rgbColor) {
        element.addEventListener('mouseenter', () => {
          element.style.backgroundColor = `rgba(${rgbColor.r}, ${rgbColor.g}, ${rgbColor.b}, 0.1)`;
        });
        element.addEventListener('mouseleave', () => {
          element.style.backgroundColor = '';
        });
      }
    }
  });

  function hexToRgb(hex: string) {
    const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return result
      ? {
          r: parseInt(result[1], 16),
          g: parseInt(result[2], 16),
          b: parseInt(result[3], 16),
        }
      : null;
  }
</script>
